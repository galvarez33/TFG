{% include 'header.html' %}


<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style-login.css') }}">
<div class="wrapper fadeInDown">
  <div id="formContent">
    <!-- Tabs Titles -->
    <h2>Restablecer contraseña</h2>
    <form method="POST" action="{{ url_for('auth.restablecer_contrasena', correo=correo, token=token) }}">
      <input type="text" name="nueva_contrasena" placeholder="Nueva Contraseña" required><br>
      <input type="text" name="confirmar_contrasena" placeholder="Confirmar Contraseña" required><br>
      <input type="hidden" name="token" value="{{ token }}">
      <input type="submit" value="Restablecer Contraseña" onclick="showSpinner()">
  </form>

    
    {% if error %}
    <p class="alert alert-danger" role="alert">{{ error }}</p>
    {% endif %}

    <!-- Remind Passowrd -->
    <div id="formFooter">
      <a class="underlineHover" href="/contrasena_olvidada">Contraseña olvidada?</a>
    </div>

  </div>
</div>
<div id='loader' class="loader" style="display: none;"></div>
<script>
    function showSpinner() {
        document.getElementById('loader').style.display = 'block';

        setTimeout(function () {
            // Oculta el spinner
            document.getElementById('loader').style.display = 'none';

            setTimeout(function () {
                window.location.href = event.target.href;
            }, 5000); // 5000 milisegundos = 5 segundos
        }, 5000);
    }
</script>



</body>

</html>